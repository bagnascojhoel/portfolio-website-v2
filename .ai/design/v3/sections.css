/* ===========================================
   SECTIONS.CSS - Component-Specific Styles
   ===========================================
   
   Purpose: All section and component styles for v3 portfolio
   
   Architecture:
   - Desktop: Two-column flexbox layout (hero + fixed work sidebar)
   - Mobile: Stacked single-column layout with work sidebar on top
   - Responsive breakpoints: 1024px (desktop), 768px (mobile)
   
   Sections:
   1. Layout & Section Order
   2. Work Sidebar - Fixed sidebar with collapsible work items
   3. Hero Section - Introduction and social links
   4. Experience Section - Timeline of work history
   5. Contact Section - Call-to-action
   6. Footer - Copyright and links
   7. Responsive Breakpoints
   
   Naming Convention: BEM (Block__Element--Modifier)
   - .work-item (Block)
   - .work-item__title (Element)
   - .work-item.is-expanded (Modifier)
   
   =========================================== */

/* ===== 1. Layout & Section Order ===== */
/* Desktop: Hero takes remaining space, work sidebar is fixed 450px */
#hero,
#experience,
#contact,
#footer {
    width: calc(100% - var(--sidebar-width));  /* Leave space for sidebar */
}

/* Flexbox order for desktop layout */
#hero {
    order: 1;
}

#work {
    order: 2;  /* Fixed sidebar on the right */
}

#experience {
    order: 3;
}

#contact {
    order: 4;
}

#footer {
    order: 5;
}

/* ===========================================
   2. Work Sidebar Section
   =========================================== */
/* 
   Design:
   - Fixed position sidebar (450px width)
   - Full viewport height with custom scrollbar
   - Contains collapsible work item cards
   - Border on left and right sides only
*/
.work-sidebar {
    position: fixed;
    top: 0;
    bottom: 0;
    align-self: flex-end;
    width: var(--sidebar-width);  /* 450px on desktop */
    height: 100vh;
    overflow-y: auto;  /* Scrollable when content overflows */
    background-color: hsl(var(--color-card));
    border: 0px solid hsl(var(--color-border));
    border-width: 0 1px 0 1px;  /* Left and right borders only */
    z-index: 50;  /* Above background, below floating controls */
}

/* ===== Custom Scrollbar Styling ===== */
/* Webkit browsers (Chrome, Safari, Edge) */
.work-sidebar::-webkit-scrollbar {
    width: 6px;  /* Thin scrollbar for minimal UI impact */
}

.work-sidebar::-webkit-scrollbar-track {
    background: transparent;  /* Invisible track */
}

.work-sidebar::-webkit-scrollbar-thumb {
    background: hsl(var(--color-border));  /* Subtle thumb color */
    border-radius: 3px;
}

.work-sidebar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--color-muted-foreground) / 0.5);  /* Slightly darker on hover */
}

/* Firefox scrollbar */
.work-sidebar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--color-border)) transparent;
}

/* ===== Work Sidebar Content ===== */
.work-sidebar__content {
    padding-top: calc(var(--spacing-unit) * 4);  /* 32px top spacing */
}

.work-sidebar__title {
    font-size: var(--text-3xl);  /* 30px */
    font-weight: 700;
    font-family: var(--font-mono);
    margin-bottom: calc(var(--spacing-unit) * 2);
}

.work-sidebar__subtitle {
    font-size: var(--text-sm);  /* 14px */
    color: hsl(var(--color-muted-foreground));
    line-height: 1.6;
    margin-bottom: calc(var(--spacing-unit) * 4);
}

/* ===== Work Items Grid ===== */
/* Container for all work item cards */
.work-items-grid {
    display: flex;
    flex-direction: column;
    gap: calc(var(--spacing-unit) * 1.5);  /* 12px gap between cards */
}

/* ===== Individual Work Item Card ===== */
/* 
   Collapsible Card Pattern:
   - Collapsed (default): Shows type, title, footer (icon+count, external link)
   - Expanded (.is-expanded): Shows type, title, description, tags
   - Click anywhere on card to toggle state
   - External link only works when expanded
   
   Transition Details:
   - Footer fades out when expanding
   - Description/tags fade in with max-height animation
   - 300ms smooth transitions
*/
.work-item {
    padding: calc(var(--spacing-unit) * 2);  /* 16px */
    padding-bottom: var(--spacing-unit);     /* 8px bottom */
    border: 1px solid hsl(var(--color-border));
    border-radius: 12px;
    background-color: hsl(var(--color-card));
    transition: var(--transition);
    position: relative;
    cursor: pointer;  /* Indicates clickability */
}

/* Hover states */
.work-item:hover {
    border-color: hsl(var(--color-primary));  /* Orange border on hover */
}

.work-item.is-expanded:hover {
    box-shadow: var(--shadow-warm);  /* Warm glow when expanded + hover */
}

/* ===== Work Item Type Label ===== */
/* Small uppercase label: "Project", "Article", "Course", "Certification" */
.work-item__type {
    display: block;
    font-size: var(--text-xs);     /* 12px */
    font-family: var(--font-mono);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;        /* Slight letter spacing */
    color: hsl(var(--color-primary));  /* Orange accent */
    margin-bottom: calc(var(--spacing-unit) * 0.5);
    width: fit-content;
}

/* ===== Work Item Title ===== */
/* Main heading for the work item */
.work-item__title {
    font-size: var(--text-base);   /* 16px */
    font-weight: 600;
    font-family: var(--font-mono);
    line-height: 1.4;
    margin-bottom: calc(var(--spacing-unit) * 1.5);
    color: hsl(var(--color-foreground));
}

/* Increased spacing when card is expanded */
.work-item.is-expanded .work-item__title {
    margin-bottom: calc(var(--spacing-unit) * 2);
}

/* ===== Work Item Footer (Collapsed State) ===== */
/* 
   Footer Layout:
   - Left: Meta info (layers-2 icon + tag count)
   - Right: External link button
   - Hidden when card is expanded (.is-expanded)
*/
.work-item__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0;
    transition: opacity 0.3s ease, margin 0.3s ease;
}

/* Hide footer when expanded */
.work-item.is-expanded .work-item__footer {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    margin: 0;
}

/* ===== Meta Info (Icon + Tag Count) ===== */
.work-item__meta {
    display: flex;
    align-items: center;
    gap: var(--spacing-unit);  /* 8px between icon and text */
    color: hsl(var(--color-muted-foreground));
}

.work-item__meta svg {
    flex-shrink: 0;  /* Prevent icon from shrinking */
    width: 14px;
    height: 14px;
}

.work-item__tag-count {
    vertical-align: middle;
    font-size: var(--text-xs);  /* 12px */
    font-family: var(--font-mono);
}

/* ===== External Link Button ===== */
/* Arrow icon button in footer, far right */
.work-item__link {
    display: flex;
    align-items: center;
    justify-content: center;
    color: hsl(var(--color-muted-foreground));
    transition: var(--transition);
    padding: calc(var(--spacing-unit) * 0.5);  /* 4px padding */
    border-radius: 4px;
}

.work-item__link:hover {
    color: hsl(var(--color-primary));  /* Orange text on hover */
    background-color: hsl(var(--color-primary) / 0.1);  /* Light orange background */
}

/* Link becomes functional when card is expanded */
.work-item.is-expanded .work-item__link {
    opacity: 1;
    pointer-events: auto;  /* Enable clicking when expanded */
}

/* ===== Work Item Description (Expanded State) ===== */
/* 
   Description text, hidden by default
   Revealed with smooth max-height/opacity transition when .is-expanded
*/
.work-item__description {
    display: block;
    color: hsl(var(--color-muted-foreground));
    line-height: 1.6;
    font-size: var(--text-sm);  /* 14px */
    margin-bottom: 0;
    max-height: 0;      /* Collapsed height */
    overflow: hidden;
    opacity: 0;         /* Invisible when collapsed */
    transition: max-height 0.3s ease, opacity 0.3s ease, margin 0.3s ease;
}

/* Show description when expanded */
.work-item.is-expanded .work-item__description {
    opacity: 1;
    max-height: 500px;  /* Large enough for any description */
    margin-bottom: calc(var(--spacing-unit) * 2);
}

/* ===== Work Item Tags (Expanded State) ===== */
/* 
   Technology/topic tags, hidden by default
   Displayed as flexbox row with wrapping when .is-expanded
*/
.work-item__tags {
    display: none;  /* Hidden by default */
    gap: var(--spacing-unit);
    padding-bottom: var(--spacing-unit);
    flex-wrap: wrap;  /* Allow tags to wrap to multiple lines */
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.3s ease, opacity 0.3s ease;
}

/* Show tags when expanded */
.work-item.is-expanded .work-item__tags {
    display: flex;
    max-height: 200px;  /* Accommodate multiple rows of tags */
    opacity: 1;
}

/* ===========================================
   3. Hero Section
   =========================================== */
/* 
   Introduction section with:
   - Name and title with gradient effect
   - Experience summary and tech stack
   - Social media links
*/
.hero {
    padding: calc(var(--spacing-unit) * 15) calc(var(--spacing-unit) * 3);  /* 120px vertical, 24px horizontal */
    min-height: 70vh;  /* At least 70% of viewport height */
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.hero__container {
    max-width: 700px;
}

/* Social handle @username */
.hero__handle {
    font-family: var(--font-mono);
    color: hsl(var(--color-primary));
    font-size: var(--text-sm);
    letter-spacing: 0.05em;
    display: block;
    margin-bottom: calc(var(--spacing-unit) * 2);
}

/* Main hero title "Hey, I am Jhoel" */
.hero__title {
    font-size: clamp(var(--text-4xl), 6vw, var(--text-6xl));  /* Responsive 36-60px */
    font-weight: 700;
    font-family: var(--font-mono);
    line-height: 1.1;
    margin-bottom: calc(var(--spacing-unit) * 4);
    color: hsl(var(--color-foreground));
}

/* Gradient text effect on name */
.text-gradient {
    background: linear-gradient(135deg, hsl(var(--color-primary)), hsl(var(--color-primary-glow)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Content area with experience paragraphs */
.hero__content {
    max-width: 42rem;
    display: flex;
    flex-direction: column;
    gap: calc(var(--spacing-unit) * 2);  /* 16px between paragraphs */
    margin-bottom: calc(var(--spacing-unit) * 6);
}

.hero__text {
    font-family: var(--font-sans);
    font-size: var(--text-lg);  /* 18px */
    line-height: 1.7;
    color: hsl(var(--color-muted-foreground));
}

/* First paragraph slightly larger */
.hero__text:first-child {
    font-size: var(--text-xl);  /* 20px */
}

/* Highlight for emphasized text */
.hero__highlight {
    color: hsl(var(--color-foreground));
    font-weight: 700;
}

/* Primary color highlight for tech stack */
.hero__highlight--primary {
    color: hsl(var(--color-primary));
    font-weight: 700;
}

/* ===== Social Links Grid ===== */
.hero__social {
    display: grid;
    grid-template-columns: repeat(2, 1fr);  /* Two columns */
    gap: calc(var(--spacing-unit) * 2);
    max-width: 28rem;
}

.social-link {
    display: flex;
    align-items: center;
    gap: calc(var(--spacing-unit) * 2);
    text-decoration: none;
    color: hsl(var(--color-foreground));
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    transition: var(--transition-base);
}

.social-link:hover .social-link__icon {
    border-color: hsl(var(--color-primary));
    box-shadow: var(--shadow-warm);
    transform: translateY(-2px);  /* Lift effect */
}

.social-link__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;   /* Touch-friendly size */
    height: 44px;
    padding: calc(var(--spacing-unit));
    border: 1px solid hsl(var(--color-border));
    border-radius: var(--radius-md);
    background-color: hsl(var(--color-card));
    flex-shrink: 0;
    transition: var(--transition-base);
}

.social-link__icon svg {
    color: hsl(var(--color-primary));
}

.social-link__text {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ===========================================
   4. Experience Section
   =========================================== */
/* 
   Timeline of work experience:
   - Vertical timeline with dots and dashed line
   - Each item shows: period, title, company, description
   - Dashed line connects all timeline dots
*/
.timeline {
    display: flex;
    flex-direction: column;
    gap: calc(var(--spacing-unit) * 4);  /* 32px between timeline items */
}

.timeline-item {
    display: flex;
    gap: calc(var(--spacing-unit) * 3);  /* 24px between marker and content */
    position: relative;
}

/* Dashed vertical line connecting timeline dots */
.timeline-item::before {
    content: '';
    position: absolute;
    left: 5px;   /* Center on timeline dot (12px wide, so 5px from left) */
    top: 18px;   /* Start below the dot */
    bottom: calc(-1 * var(--spacing-unit) * 4);  /* Extend to next item */
    width: 0;
    border-left: 3px dashed hsl(var(--color-border));
}

/* Hide line after last item */
.timeline-item:last-child::before {
    display: none;
}

/* Orange dot marker for each timeline item */
.timeline-item__marker {
    width: 12px;
    height: 12px;
    background-color: hsl(var(--color-primary));
    border-radius: 50%;  /* Perfect circle */
    margin-top: 6px;
    flex-shrink: 0;
    position: relative;
    z-index: 1;  /* Above dashed line */
}

.timeline-item__period {
    font-size: var(--text-sm);
    color: hsl(var(--color-muted-foreground));
    margin-bottom: calc(var(--spacing-unit));
}

.timeline-item__title {
    font-size: var(--text-xl);  /* 20px */
    font-weight: 600;
    font-family: var(--font-mono);
    margin-bottom: calc(var(--spacing-unit));
}

.timeline-item__company {
    color: hsl(var(--color-primary));  /* Orange company name */
    font-weight: 500;
    margin-bottom: calc(var(--spacing-unit) * 2);
}

.timeline-item__description {
    color: hsl(var(--color-muted-foreground));
    line-height: 1.6;
}

/* ===========================================
   5. Contact Section
   =========================================== */
/* 
   Grid of contact cards:
   - 4 columns on desktop, 2 on mobile
   - Each card is a clickable link with icon and text
   - Hover effects: border color, shadow, lift
*/
.contact-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);  /* 4 equal columns */
    gap: calc(var(--spacing-unit) * 2);
}

.contact-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: calc(var(--spacing-unit) * 2);
    padding: calc(var(--spacing-unit) * 3);
    border: 1px solid hsl(var(--color-border));
    border-radius: 12px;
    background-color: hsl(var(--color-card));
    text-decoration: none;
    transition: var(--transition);
    color: hsl(var(--color-foreground));
    font-family: var(--font-mono);
    font-size: var(--text-sm);
}

.contact-card:hover {
    border-color: hsl(var(--color-primary));
    box-shadow: var(--shadow-warm);
    transform: translateY(-2px);  /* Lift on hover */
}

.contact-card__icon {
    color: hsl(var(--color-primary));
    flex-shrink: 0;
}

/* ===========================================
   6. Footer Section
   =========================================== */
.footer {
    padding: calc(var(--spacing-unit) * 4) calc(var(--spacing-unit) * 3);
}

.footer__container {
    max-width: var(--max-width);
    margin: 0 auto;
    text-align: center;
}

.footer__divider {
    margin: 0 auto calc(var(--spacing-unit) * 4);
    border: none;
    border-top: 1px solid hsl(var(--color-border));
}

.footer__text {
    color: hsl(var(--color-primary));
    font-size: var(--text-sm);
    font-family: var(--font-mono);
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.footer__icon {
    color: hsl(var(--color-primary));
    display: inline-block;
}

/* ===========================================
   7. Responsive Breakpoints
   =========================================== */
/* 
   Mobile Layout (< 768px):
   - Single column stacked layout
   - Work sidebar becomes top section (not fixed)
   - Reduced padding and spacing
   - Contact grid: 2 columns instead of 4
*/
@media (max-width: 768px) {
    .hero {
        padding: calc(var(--spacing-unit) * 10) calc(var(--spacing-unit) * 3);
        min-height: auto;
    }

    .hero__container {
        max-width: 100%;
    }

    .work-sidebar__content {
        padding: calc(var(--spacing-unit) * 8) calc(var(--spacing-unit) * 3) calc(var(--spacing-unit) * 4);
    }

    .container--narrow {
        max-width: 100%;
    }
    
    .timeline-item {
        gap: calc(var(--spacing-unit) * 2);
    }

    .contact-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}
